<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>rxjs</title>
    <!--<script src="https://unpkg.com/rxjs@5.3.0/bundles/Rx.min.js"></script>-->
    <script src="http://cdn.bootcss.com/rxjs/5.3.0/Rx.min.js"></script>
</head>
<body>
    <div><input type="text" class="text1"></div>
    <div><input type="text" class="text1"></div>
    <script>
        var  haha = Rx.Observable.of("haha");
        var hehe = Rx.Observable.create(function (observer) {
//            console.log(observer);
//            console.log(hehe);
            observer.next("hehe1");
            observer.next("hehe2");
        });
//                .skip(1)
//                .startWith("startWith");
        //订阅才会触发流，每订阅一次，流触发一次(这是'冷'流的特性)
        hehe.subscribe(function(response) {
            console.log("hehe.subscribe 1");
            console.log(response);
        });
        setTimeout(function () {
            hehe.subscribe(function(response) {
                console.log("hehe.subscribe 2");
                console.log(response);
            });
        },3000);


//        var numbers = Rx.Observable.of(10, 20, 30);
//        var letters = Rx.Observable.of('a', 'b', 'c');
//        var interval = Rx.Observable.interval(1000);
//        var result = numbers.concat(letters).concat(interval);
//        result.subscribe(x => console.log(x));

//        var seconds = Rx.Observable.interval(1000);
//        var clicks = Rx.Observable.fromEvent(document, 'click');
//        var result = seconds.sample(clicks);
//        result.subscribe(x => console.log(x));

//        var clicks = Rx.Observable.fromEvent(document, 'click');
//        var timer = Rx.Observable.interval(1000);
//        var clicksOrTimer = clicks.merge(timer);
//        clicksOrTimer.subscribe(x => console.log(x));

//        var weight = Rx.Observable.of(70, 72, 76, 79, 75);
//        var height = Rx.Observable.of(1.76, 1.77, 1.78);
//        var bmi = weight.combineLatest(height, (w, h) => {console.log(w,h); return w / (h * h);});
//        bmi.subscribe(x => console.log('BMI is ' + x));

// //        //3秒内没有新的，才发射  ?貌似不是(应该用debounceTime)
//        var clicks = Rx.Observable.fromEvent(document, 'click');
//     //    var result = clicks.auditTime(3000);//错的
//        var result = clicks.debounceTime(3000);
//        result.subscribe(x => console.log(x));

//        //3秒内的过滤掉
    //    var clicks = Rx.Observable.fromEvent(document, 'click');
    //    var result = clicks.throttleTime(3000);
    //    result.subscribe(x => console.log(x));

        // //测试能否同时给多个元素绑定流(结论是可以)
        // var text1s = document.getElementsByClassName("text1"); 
        // var input = Rx.Observable.fromEvent(text1s, 'input');
        // input.subscribe(x => console.log(x));


    </script>
</body>
</html>